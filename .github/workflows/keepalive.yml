name: ExamFlow 2.0 Keepalive

on:
  schedule:
    # –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
    - cron: '*/10 * * * *'
  workflow_dispatch: # –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –≤—Ä—É—á–Ω—É—é

jobs:
  keepalive:
    runs-on: ubuntu-latest
    
    steps:
    - name: Wake up ExamFlow website
      run: |
        echo "üåê –ü—Ä–æ–±—É–∂–¥–∞–µ–º ExamFlow 2.0..."
        curl -s -o /dev/null -w "%{http_code}" https://examflow.ru/health/
        echo "‚úÖ Keepalive –≤—ã–ø–æ–ª–Ω–µ–Ω"
    
    - name: Wake up Telegram bot
      run: |
        echo "ü§ñ –ü—Ä–æ–≤–µ—Ä—è–µ–º Telegram –±–æ—Ç–∞..."
        curl -s -o /dev/null -w "%{http_code}" https://examflow.ru/health/
        echo "‚úÖ –ë–æ—Ç –∞–∫—Ç–∏–≤–µ–Ω"
    
    - name: Log keepalive status
      run: |
        echo "üïê Keepalive –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ $(date)"
        echo "üåê –°–∞–π—Ç: https://examflow.ru"
        echo "ü§ñ –ë–æ—Ç: @examflow_bot"

