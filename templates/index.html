{% extends 'base.html' %}
{% load static %}

{% block title %}ExamFlow - –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ –ï–ì–≠ –∏ –û–ì–≠{% endblock %}

{% block content %}
<!-- ===== –•–ï–î–ï–† ===== -->
<header class="header">
  <div class="container container-xl">
    <div class="header-content">
      <!-- –õ–æ–≥–æ—Ç–∏–ø -->
      <a href="/" class="logo">
        <div class="logo-icon">üéØ</div>
        <span>ExamFlow</span>
      </a>
      
      <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
      <nav class="nav hidden-mobile">
        <a href="#features" class="nav-link">–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</a>
        <a href="#subjects" class="nav-link">–ü—Ä–µ–¥–º–µ—Ç—ã</a>
        <a href="#pricing" class="nav-link">–¢–∞—Ä–∏—Ñ—ã</a>
        <a href="#about" class="nav-link">–û –Ω–∞—Å</a>
      </nav>
      
      <!-- –î–µ–π—Å—Ç–≤–∏—è -->
      <div class="flex items-center gap-4">
        <button class="btn btn-ghost hidden-mobile" onclick="focusAI()">
          –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å
        </button>
        <a href="{% url 'telegram_auth:telegram_login' %}" class="btn btn-primary">
          –í–æ–π—Ç–∏
        </a>
        
        <!-- –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é -->
        <button class="mobile-menu-toggle visible-mobile" onclick="toggleMobileMenu()">
          <span class="mobile-menu-line"></span>
          <span class="mobile-menu-line"></span>
          <span class="mobile-menu-line"></span>
        </button>
      </div>
    </div>
  </div>
</header>

<!-- ===== HERO –°–ï–ö–¶–ò–Ø ===== -->
<section class="hero">
  <div class="container container-lg">
    <h1 class="hero-title">
      –£–º–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ –ï–ì–≠
    </h1>
    <p class="hero-subtitle">
      –ó–∞–¥–∞–π—Ç–µ –ª—é–±–æ–π –≤–æ–ø—Ä–æ—Å –ø–æ –ï–ì–≠ –∏ –ø–æ–ª—É—á–∏—Ç–µ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞. 
      –û—Ç —Ç–µ–æ—Ä–∏–∏ –¥–æ –ø—Ä–∞–∫—Ç–∏–∫–∏ ‚Äî –≤—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.
    </p>
    
    <!-- AI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
    <div class="ai-interface">
      <div class="ai-input-container">
        <input 
          type="text" 
          class="ai-input" 
          placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–∞–∫ —Ä–µ—à–∞—Ç—å –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è?"
          maxlength="500"
          id="aiInput"
        >
        <button class="ai-send-btn btn btn-primary" onclick="sendAIQuery()">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
          </svg>
        </button>
      </div>
      
      <!-- –ë—ã—Å—Ç—Ä—ã–µ –≤–æ–ø—Ä–æ—Å—ã -->
      <div class="ai-suggestions">
        <button class="ai-suggestion" onclick="askQuestion('–ö–∞–∫ —Ä–µ—à–∞—Ç—å –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è?')">
          –ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è
        </button>
        <button class="ai-suggestion" onclick="askQuestion('–û–±—ä—è—Å–Ω–∏ —Ç–µ–æ—Ä–∏—é –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏')">
          –¢–µ–æ—Ä–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏
        </button>
        <button class="ai-suggestion" onclick="askQuestion('–ö–∞–∫ –ø–∏—Å–∞—Ç—å —Å–æ—á–∏–Ω–µ–Ω–∏–µ –ø–æ —Ä—É—Å—Å–∫–æ–º—É?')">
          –°–æ—á–∏–Ω–µ–Ω–∏–µ
        </button>
        <button class="ai-suggestion" onclick="askQuestion('–ü—Ä–∞–≤–∏–ª–∞ –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è')">
          –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ
        </button>
      </div>
      
      <!-- –û–±–ª–∞—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤ –ò–ò -->
      <div id="aiChat" class="ai-chat" style="display: none;">
        <!-- –û—Ç–≤–µ—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ -->
      </div>
    </div>
    
    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É–±—Ä–∞–Ω–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
  </div>
</section>

<!-- ===== –í–û–ó–ú–û–ñ–ù–û–°–¢–ò ===== -->
<section id="features" class="section">
  <div class="container container-xl">
    <div class="section-header">
      <h2 class="section-title">–ü–æ—á–µ–º—É ExamFlow?</h2>
      <p class="section-subtitle">
        –ú—ã —Å–æ–∑–¥–∞–ª–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –∫ –ï–ì–≠ –≤ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ
      </p>
    </div>
    
    <div class="feature-grid">
      <!-- AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç -->
      <div class="feature-card card hover-lift">
        <div class="feature-icon">ü§ñ</div>
        <h3 class="feature-title">–ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç</h3>
        <p class="feature-description">
          –ó–∞–¥–∞–π—Ç–µ –ª—é–±–æ–π –≤–æ–ø—Ä–æ—Å –∏ –ø–æ–ª—É—á–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç–≤–µ—Ç —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏
        </p>
      </div>
      
      <!-- –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è -->
      <div class="feature-card card hover-lift">
        <div class="feature-icon">‚ö°</div>
        <h3 class="feature-title">–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è</h3>
        <p class="feature-description">
          –ò–ò –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –≤–∞—à —É—Ä–æ–≤–µ–Ω—å –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è
        </p>
      </div>
      
      <!-- –ü—Ä–∞–∫—Ç–∏–∫–∞ -->
      <div class="feature-card card hover-lift">
        <div class="feature-icon">üéØ</div>
        <h3 class="feature-title">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞</h3>
        <p class="feature-description">
          –¢—ã—Å—è—á–∏ –∑–∞–¥–∞–Ω–∏–π —Å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∏ –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏
        </p>
      </div>
      
      <!-- –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è -->
      <div class="feature-card card hover-lift">
        <div class="feature-icon">üèÜ</div>
        <h3 class="feature-title">–ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è</h3>
        <p class="feature-description">
          –°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∏ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö —á–µ–ª–ª–µ–Ω–¥–∂–µ–π –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç —É—á–∏—Ç—å—Å—è
        </p>
      </div>
      
      <!-- Telegram –±–æ—Ç -->
      <div class="feature-card card hover-lift">
        <div class="feature-icon">üì±</div>
        <h3 class="feature-title">Telegram –±–æ—Ç</h3>
        <p class="feature-description">
          –£—á–∏—Ç–µ—Å—å –≥–¥–µ —É–≥–æ–¥–Ω–æ —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –º–µ–∂–¥—É —Å–∞–π—Ç–æ–º –∏ –±–æ—Ç–æ–º
        </p>
      </div>
      
      <!-- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ -->
      <div class="feature-card card hover-lift">
        <div class="feature-icon">üìä</div>
        <h3 class="feature-title">–î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</h3>
        <p class="feature-description">
          –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —Ç–µ–º–∞–º –∏ –ø–æ–ª—É—á–∞–π—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é
        </p>
      </div>
    </div>
  </div>
</section>

<!-- ===== –ü–†–ï–î–ú–ï–¢–´ ===== -->
<section id="subjects" class="section bg-gray-50">
  <div class="container container-xl">
    <div class="section-header">
      <h2 class="section-title">–ü—Ä–µ–¥–º–µ—Ç—ã –ï–ì–≠ –∏ –û–ì–≠</h2>
      <p class="section-subtitle">
        –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç –¥–ª—è —É–≥–ª—É–±–ª–µ–Ω–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è
      </p>
    </div>
    
    <div class="grid grid-cols-2 gap-8">
      <!-- –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ -->
      <div class="card hover-lift text-center">
        <div class="feature-icon">üìê</div>
        <h3 class="feature-title">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</h3>
        <p class="feature-description mb-6">
          –ü—Ä–æ—Ñ–∏–ª—å–Ω–∞—è –∏ –±–∞–∑–æ–≤–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –ï–ì–≠, –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –û–ì–≠
        </p>
        <a href="{% url 'learning:subjects_list' %}" class="btn btn-primary">
          –ù–∞—á–∞—Ç—å –∏–∑—É—á–µ–Ω–∏–µ
        </a>
      </div>
      
      <!-- –†—É—Å—Å–∫–∏–π —è–∑—ã–∫ -->
      <div class="card hover-lift text-center">
        <div class="feature-icon">üìù</div>
        <h3 class="feature-title">–†—É—Å—Å–∫–∏–π —è–∑—ã–∫</h3>
        <p class="feature-description mb-6">
          –°–æ—á–∏–Ω–µ–Ω–∏–µ, —Ç–µ—Å—Ç—ã, –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞ –¥–ª—è –ï–ì–≠ –∏ –û–ì–≠
        </p>
        <a href="{% url 'learning:subjects_list' %}" class="btn btn-primary">
          –ù–∞—á–∞—Ç—å –∏–∑—É—á–µ–Ω–∏–µ
        </a>
      </div>
    </div>
  </div>
</section>

<!-- ===== TELEGRAM –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø ===== -->
<section class="section">
  <div class="container container-lg">
    <div class="grid grid-cols-2 gap-12 items-center">
      <div>
        <h2 class="section-title text-left">
          –£—á–∏—Ç–µ—Å—å –≥–¥–µ —É–≥–æ–¥–Ω–æ —Å Telegram-–±–æ—Ç–æ–º
        </h2>
        <p class="text-lg text-muted mb-8">
          –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –º–µ–∂–¥—É —Å–∞–π—Ç–æ–º –∏ –±–æ—Ç–æ–º. 
          –ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –ò–ò, —Ä–µ—à–∞–π—Ç–µ –∑–∞–¥–∞—á–∏ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –ø—Ä—è–º–æ –≤ Telegram.
        </p>
        
        <div class="flex gap-4">
          <a href="https://t.me/ExamFlowBot" target="_blank" class="btn btn-primary">
            –û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞
          </a>
          <button class="btn btn-outline" onclick="showQR()">
            QR-–∫–æ–¥
          </button>
        </div>
      </div>
      
      <div class="telegram-widget">
        <div class="telegram-qr">
          <img src="{% static 'images/qr-examflow-bot.png' %}" alt="QR-–∫–æ–¥ –¥–ª—è @ExamFlowBot" width="200" height="200" style="border-radius: var(--radius-lg);">
        </div>
        <h3 class="font-semibold mb-2 text-center">@ExamFlowBot</h3>
        <p class="text-muted text-sm text-center">
          –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥ –∏–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ –≤ Telegram
        </p>
        <div class="mt-4 text-center">
          <a href="https://t.me/ExamFlowBot" class="btn btn-primary btn-sm">
            –û—Ç–∫—Ä—ã—Ç—å –≤ Telegram
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ===== –¢–ê–†–ò–§–´ ===== -->
<section id="pricing" class="section bg-gray-50">
  <div class="container container-lg">
    <div class="section-header">
      <h2 class="section-title">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞—Ä–∏—Ñ</h2>
      <p class="section-subtitle">
        –ù–∞—á–Ω–∏—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç–µ –º–∞–∫—Å–∏–º—É–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
      </p>
    </div>
    
    <div class="grid grid-cols-2 gap-8">
      <!-- –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π -->
      <div class="card text-center">
        <h3 class="text-2xl font-bold mb-2">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π</h3>
        <p class="text-muted mb-6">–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø</p>
        
        <div class="mb-8">
          <span class="text-4xl font-bold">0‚ÇΩ</span>
          <span class="text-muted">/–º–µ—Å—è—Ü</span>
        </div>
        
        <ul class="text-left mb-8" style="list-style: none; padding: 0;">
          <li class="flex items-center gap-2 mb-3">
            <span class="text-success">‚úì</span>
            <span>–î–æ 5 –≤–æ–ø—Ä–æ—Å–æ–≤ –∫ –ò–ò –≤ –¥–µ–Ω—å</span>
          </li>
          <li class="flex items-center gap-2 mb-3">
            <span class="text-success">‚úì</span>
            <span>–ë–∞–∑–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –∏ —Ç–µ–æ—Ä–∏—è</span>
          </li>
          <li class="flex items-center gap-2 mb-3">
            <span class="text-success">‚úì</span>
            <span>Telegram –±–æ—Ç</span>
          </li>
        </ul>
        
        <a href="{% url 'telegram_auth:telegram_login' %}" class="btn btn-outline w-full">
          –ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ
        </a>
      </div>
      
      <!-- –ü—Ä–µ–º–∏—É–º -->
      <div class="card text-center" style="border-color: var(--primary-300); position: relative;">
        <div class="badge badge-primary" style="position: absolute; top: -12px; left: 50%; transform: translateX(-50%);">
          –ü–æ–ø—É–ª—è—Ä–Ω—ã–π
        </div>
        
        <h3 class="text-2xl font-bold mb-2">–ü—Ä–µ–º–∏—É–º</h3>
        <p class="text-muted mb-6">–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø</p>
        
        <div class="mb-8">
          <span class="text-4xl font-bold">999‚ÇΩ</span>
          <span class="text-muted">/–º–µ—Å—è—Ü</span>
        </div>
        
        <ul class="text-left mb-8" style="list-style: none; padding: 0;">
          <li class="flex items-center gap-2 mb-3">
            <span class="text-success">‚úì</span>
            <span>–ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∫ –ò–ò</span>
          </li>
          <li class="flex items-center gap-2 mb-3">
            <span class="text-success">‚úì</span>
            <span>–í—Å–µ –∑–∞–¥–∞—á–∏ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</span>
          </li>
          <li class="flex items-center gap-2 mb-3">
            <span class="text-success">‚úì</span>
            <span>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è</span>
          </li>
          <li class="flex items-center gap-2 mb-3">
            <span class="text-success">‚úì</span>
            <span>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</span>
          </li>
        </ul>
        
        <a href="{% url 'subscribe' %}" class="btn btn-primary w-full">
          –û—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
        </a>
      </div>
    </div>
  </div>
</section>

<!-- ===== –û –ù–ê–° ===== -->
<section id="about" class="section">
  <div class="container container-lg">
    <div class="grid grid-cols-2 gap-12 items-center">
      <div>
        <h2 class="section-title text-left">
          –û ExamFlow
        </h2>
        <p class="text-lg text-muted mb-6">
          –ú—ã —Å–æ–∑–¥–∞–ª–∏ —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ –ï–ì–≠, –∫–æ—Ç–æ—Ä–∞—è –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç 
          –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç, –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –∏ –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—é.
        </p>
        <p class="text-lg text-muted mb-8">
          –ù–∞—à–∞ –º–∏—Å—Å–∏—è ‚Äî —Å–¥–µ–ª–∞—Ç—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π, —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–π 
          –∏ –¥–æ—Å—Ç—É–ø–Ω–æ–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—á–µ–Ω–∏–∫–∞.
        </p>
        
        <div class="grid grid-cols-3 gap-6">
          <div class="text-center">
            <div class="text-2xl font-bold text-primary">2024</div>
            <div class="text-sm text-muted">–ì–æ–¥ –æ—Å–Ω–æ–≤–∞–Ω–∏—è</div>
          </div>
          <div class="text-center">
            <div class="text-2xl font-bold text-primary">5+</div>
            <div class="text-sm text-muted">–ü—Ä–µ–¥–º–µ—Ç–æ–≤</div>
          </div>
          <div class="text-center">
            <div class="text-2xl font-bold text-primary">99%</div>
            <div class="text-sm text-muted">–î–æ–≤–æ–ª—å–Ω—ã—Ö —É—á–µ–Ω–∏–∫–æ–≤</div>
          </div>
        </div>
      </div>
      
      <div class="text-center">
        <div style="width: 300px; height: 300px; background: var(--gradient-brand); border-radius: var(--radius-2xl); margin: 0 auto; display: flex; align-items: center; justify-content: center; color: white; font-size: var(--text-6xl);">
          üéì
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ===== –§–£–¢–ï–† ===== -->
<footer class="footer">
  <div class="container container-xl">
    <div class="footer-grid">
      <!-- –û –∫–æ–º–ø–∞–Ω–∏–∏ -->
      <div class="footer-section">
        <h3>ExamFlow</h3>
        <p class="text-sm text-gray-400 mb-4">
          –£–º–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ –ï–ì–≠ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞
        </p>
      </div>
      
      <!-- –ü—Ä–æ–¥—É–∫—Ç -->
      <div class="footer-section">
        <h3>–ü—Ä–æ–¥—É–∫—Ç</h3>
        <ul class="footer-links">
          <li><a href="#features" class="footer-link">–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</a></li>
          <li><a href="#subjects" class="footer-link">–ü—Ä–µ–¥–º–µ—Ç—ã</a></li>
          <li><a href="#pricing" class="footer-link">–¢–∞—Ä–∏—Ñ—ã</a></li>
          <li><a href="{% url 'learning:subjects_list' %}" class="footer-link">–ü—Ä–∞–∫—Ç–∏–∫–∞</a></li>
        </ul>
      </div>
      
      <!-- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ -->
      <div class="footer-section">
        <h3>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</h3>
        <ul class="footer-links">
          <li><a href="{% url 'faq' %}" class="footer-link">FAQ</a></li>
          <li><a href="https://t.me/examflow_bot" class="footer-link">Telegram –±–æ—Ç</a></li>
          <li><a href="#" class="footer-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
        </ul>
      </div>
      
      <!-- –ö–æ–º–ø–∞–Ω–∏—è -->
      <div class="footer-section">
        <h3>–ö–æ–º–ø–∞–Ω–∏—è</h3>
        <ul class="footer-links">
          <li><a href="#about" class="footer-link">–û –Ω–∞—Å</a></li>
          <li><a href="#" class="footer-link">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a></li>
          <li><a href="#" class="footer-link">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></li>
        </ul>
      </div>
    </div>
    
    <div class="footer-bottom">
      <div>
        ¬© 2024 ExamFlow. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
      </div>
      <div class="flex items-center gap-4">
        <a href="https://t.me/ExamFlowBot" class="footer-link">Telegram</a>
      </div>
    </div>
  </div>
</footer>

<!-- –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é -->
<div class="mobile-menu-overlay" id="mobileMenuOverlay">
  <div class="mobile-menu-content">
    <div class="flex justify-between items-center mb-8">
      <div class="logo">
        <div class="logo-icon">üéØ</div>
        <span>ExamFlow</span>
      </div>
      <button onclick="toggleMobileMenu()" class="btn btn-ghost">‚úï</button>
    </div>
    
    <nav class="flex flex-col gap-4">
      <a href="#features" class="nav-link" onclick="toggleMobileMenu()">–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</a>
      <a href="#subjects" class="nav-link" onclick="toggleMobileMenu()">–ü—Ä–µ–¥–º–µ—Ç—ã</a>
      <a href="#pricing" class="nav-link" onclick="toggleMobileMenu()">–¢–∞—Ä–∏—Ñ—ã</a>
      <a href="#about" class="nav-link" onclick="toggleMobileMenu()">–û –Ω–∞—Å</a>
    </nav>
    
    <div class="mt-8">
      <button class="btn btn-ghost w-full mb-3" onclick="focusAI(); toggleMobileMenu()">
        –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å
      </button>
      <a href="{% url 'telegram_auth:telegram_login' %}" class="btn btn-primary w-full">
        –í–æ–π—Ç–∏
      </a>
    </div>
  </div>
</div>

<!-- AI –ß–∞—Ç –í–∏–¥–∂–µ—Ç -->
{% include 'ai/chat-widget.html' %}
{% endblock %}

{% block extra_js %}
<script>
// ===== –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò =====

// –§–æ–∫—É—Å –Ω–∞ AI –∏–Ω–ø—É—Ç–µ
function focusAI() {
  const aiInput = document.getElementById('aiInput');
  if (aiInput) {
    aiInput.focus();
    aiInput.scrollIntoView({ behavior: 'smooth', block: 'center' });
  }
}

// –û—Ç–ø—Ä–∞–≤–∫–∞ –≤–æ–ø—Ä–æ—Å–∞ –∫ –ò–ò
async function sendAIQuery() {
  const input = document.getElementById('aiInput');
  const chat = document.getElementById('aiChat');
  
  if (!input || !input.value.trim()) return;
  
  const question = input.value.trim();
  input.value = '';
  
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —á–∞—Ç
  chat.style.display = 'block';
  
  // –î–æ–±–∞–≤–ª—è–µ–º –≤–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  addMessage('user', question);
  
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
  const loadingId = addMessage('assistant', '–î—É–º–∞—é...', true);
  
  try {
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –∫ API
    const response = await fetch('/ai/api/', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'X-CSRFToken': getCookie('csrftoken')
      },
      body: JSON.stringify({ prompt: question })
    });
    
    const data = await response.json();
    
    // –£–¥–∞–ª—è–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
    removeMessage(loadingId);
    
    if (data.answer) {
      addMessage('assistant', data.answer);
    } else {
      addMessage('assistant', '–ò–∑–≤–∏–Ω–∏—Ç–µ, –Ω–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
    }
    
  } catch (error) {
    removeMessage(loadingId);
    addMessage('assistant', '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
  }
}

// –ë—ã—Å—Ç—Ä—ã–µ –≤–æ–ø—Ä–æ—Å—ã
function askQuestion(question) {
  const input = document.getElementById('aiInput');
  if (input) {
    input.value = question;
    sendAIQuery();
  }
}

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç
function addMessage(type, text, isLoading = false) {
  const chat = document.getElementById('aiChat');
  const messageId = 'msg-' + Date.now();
  
  const messageDiv = document.createElement('div');
  messageDiv.id = messageId;
  messageDiv.className = `ai-message ${type}`;
  
  if (isLoading) {
    messageDiv.innerHTML = `
      <div class="flex items-center gap-2">
        <div class="animate-pulse">ü§ñ</div>
        <span>${text}</span>
      </div>
    `;
  } else {
    messageDiv.innerHTML = `
      <div class="message-content">
        ${type === 'user' ? 'üë§' : 'ü§ñ'} ${text}
      </div>
    `;
  }
  
  chat.appendChild(messageDiv);
  messageDiv.scrollIntoView({ behavior: 'smooth' });
  
  return messageId;
}

// –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
function removeMessage(messageId) {
  const message = document.getElementById(messageId);
  if (message) {
    message.remove();
  }
}

// –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é
function toggleMobileMenu() {
  const overlay = document.getElementById('mobileMenuOverlay');
  if (overlay) {
    overlay.classList.toggle('active');
  }
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ CSRF —Ç–æ–∫–µ–Ω–∞
function getCookie(name) {
  let cookieValue = null;
  if (document.cookie && document.cookie !== '') {
    const cookies = document.cookie.split(';');
    for (let i = 0; i < cookies.length; i++) {
      const cookie = cookies[i].trim();
      if (cookie.substring(0, name.length + 1) === (name + '=')) {
        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
        break;
      }
    }
  }
  return cookieValue;
}

// –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ —è–∫–æ—Ä—è–º
document.addEventListener('DOMContentLoaded', function() {
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Å—ã–ª–æ–∫ —Å —è–∫–æ—Ä—è–º–∏
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
      e.preventDefault();
      const targetId = this.getAttribute('href').substring(1);
      const targetElement = document.getElementById(targetId);
      
      if (targetElement) {
        targetElement.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }
    });
  });
  
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ Enter –≤ AI –∏–Ω–ø—É—Ç–µ
  const aiInput = document.getElementById('aiInput');
  if (aiInput) {
    aiInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        sendAIQuery();
      }
    });
  }
  
  // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };
  
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('animate-fade-in');
      }
    });
  }, observerOptions);
  
  // –ù–∞–±–ª—é–¥–∞–µ–º –∑–∞ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏
  document.querySelectorAll('.card, .feature-card').forEach(el => {
    observer.observe(el);
  });
});
</script>
{% endblock %}
