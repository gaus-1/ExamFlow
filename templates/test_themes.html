{% extends 'base.html' %}
{% load static %}

{% block title %}Тест тем - ExamFlow{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-12">
            <h1 class="hero-title text-center mb-5">Тестирование системы тем</h1>
            
            <div class="row">
                <div class="col-md-6 mb-4">
                    <div class="card-tech">
                        <h5><i class="fas fa-graduation-cap"></i> Карточка для школьников</h5>
                        <p>Эта карточка должна менять стиль в зависимости от выбранной темы.</p>
                        <button class="btn-neon">Кнопка в стиле темы</button>
                    </div>
                </div>
                
                <div class="col-md-6 mb-4">
                    <div class="card-tech">
                        <h5><i class="fas fa-briefcase"></i> Карточка для взрослых</h5>
                        <p>Профессиональный дизайн с акцентом на функциональность.</p>
                        <button class="btn-neon">Профессиональная кнопка</button>
                    </div>
                </div>
            </div>
            
            <div class="row mt-4">
                <div class="col-12">
                    <div class="card-tech">
                        <h5>Информация о текущей теме</h5>
                        <p><strong>Текущая тема:</strong> <span id="current-theme">Загрузка...</span></p>
                        <p><strong>Название темы:</strong> <span id="theme-name">Загрузка...</span></p>
                        <p><strong>Тип темы:</strong> <span id="theme-type">Загрузка...</span></p>
                        
                        <div class="mt-3">
                            <button class="btn-neon me-2" onclick="testTheme('school')">Тест темы "Школьник"</button>
                            <button class="btn-neon me-2" onclick="testTheme('adult')">Тест темы "Взрослый"</button>
                            <button class="btn-neon" onclick="refreshThemeInfo()">Обновить информацию</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="row mt-4">
                <div class="col-md-4 mb-4">
                    <div class="card-tech">
                        <h6>Цвета темы</h6>
                        <div class="d-flex flex-wrap gap-2">
                            <div class="bg-primary p-2 rounded" style="width: 30px; height: 30px;"></div>
                            <div class="bg-secondary p-2 rounded" style="width: 30px; height: 30px;"></div>
                            <div class="bg-success p-2 rounded" style="width: 30px; height: 30px;"></div>
                            <div class="bg-warning p-2 rounded" style="width: 30px; height: 30px;"></div>
                            <div class="bg-danger p-2 rounded" style="width: 30px; height: 30px;"></div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4 mb-4">
                    <div class="card-tech">
                        <h6>Типографика</h6>
                        <p class="h1">Заголовок H1</p>
                        <p class="h3">Заголовок H3</p>
                        <p class="lead">Ведущий текст</p>
                        <p>Обычный текст</p>
                        <small>Мелкий текст</small>
                    </div>
                </div>
                
                <div class="col-md-4 mb-4">
                    <div class="card-tech">
                        <h6>Кнопки и элементы</h6>
                        <button class="btn-neon mb-2 w-100">Основная кнопка</button>
                        <button class="btn-secondary-duolingo mb-2 w-100">Вторичная кнопка</button>
                        <button class="btn-outline-duolingo w-100">Контурная кнопка</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Функции для тестирования
function testTheme(theme) {
    if (window.themeManager) {
        window.themeManager.switchTheme(theme);
        setTimeout(refreshThemeInfo, 500);
    } else {
        console.error('ThemeManager не найден');
    }
}

function refreshThemeInfo() {
    if (window.themeManager) {
        document.getElementById('current-theme').textContent = window.themeManager.getCurrentTheme();
        document.getElementById('theme-name').textContent = window.themeManager.getCurrentThemeName();
        document.getElementById('theme-type').textContent = window.themeManager.isSchoolTheme() ? 'Школьная' : 'Взрослая';
    } else {
        document.getElementById('current-theme').textContent = 'ThemeManager не найден';
        document.getElementById('theme-name').textContent = 'Ошибка';
        document.getElementById('theme-type').textContent = 'Ошибка';
    }
}

// Обновляем информацию при загрузке страницы
document.addEventListener('DOMContentLoaded', () => {
    setTimeout(refreshThemeInfo, 1000);
});

// Обновляем информацию при смене темы
document.addEventListener('themeChanged', (event) => {
    console.log('Тема изменена:', event.detail);
    setTimeout(refreshThemeInfo, 100);
});
</script>
{% endblock %}
