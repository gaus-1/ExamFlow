{% extends 'base.html' %}
{% load static %}

{% block title %}{{ subject.name }} - {{ subject.exam_type }} - ExamFlow{% endblock %}

{% block content %}
<!-- Hero —Å–µ–∫—Ü–∏—è -->
<section class="hero-section section-padding" style="background: #fffef2;">
    <div class="container">
        <div class="text-center">
            <div class="text-8xl mb-6 rotate">
                {% if subject.name == '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞' %}üìê
                {% elif subject.name == '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫' %}üìù
                {% elif subject.name == '–§–∏–∑–∏–∫–∞' %}‚ö°
                {% elif subject.name == '–•–∏–º–∏—è' %}üß™
                {% elif subject.name == '–ë–∏–æ–ª–æ–≥–∏—è' %}üß¨
                {% elif subject.name == '–ò—Å—Ç–æ—Ä–∏—è' %}üìö
                {% elif subject.name == '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è' %}üåç
                {% elif subject.name == '–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞' %}üìñ
                {% elif subject.name == '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞' %}üíª
                {% elif subject.name == '–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ' %}üèõÔ∏è
                {% elif '—è–∑—ã–∫' in subject.name %}üåê
                {% else %}üìö
                {% endif %}
            </div>
            <h1 class="text-4xl md:text-6xl font-bold mb-6 heading-animate" style="color: #252525;">
                {{ subject.name }}
            </h1>
            <p class="text-xl md:text-2xl mb-8 text-reveal" style="color: #666;">
                {{ subject.exam_type }} - {{ total_tasks }} –∑–∞–¥–∞–Ω–∏–π –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏
            </p>
            <a href="https://t.me/ExamFlowBot" target="_blank" 
               class="btn-primary btn-animate text-lg px-8 py-4">
                üì± –ù–∞—á–∞—Ç—å –≤ Telegram –±–æ—Ç–µ
            </a>
        </div>
    </div>
</section>

<!-- –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞ -->
<section class="section-padding" style="background: #f8f8f8;">
    <div class="container">
        <div class="max-w-4xl mx-auto text-center">
            <h2 class="text-3xl md:text-4xl font-bold mb-8 heading-animate" style="color: #252525;">
                –û –ø—Ä–µ–¥–º–µ—Ç–µ
            </h2>
            <div class="text-lg text-reveal" style="color: #666;">
                {% if subject.name == '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞' %}
                    <p class="mb-4">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ - —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –Ω–∞—É–∫–∞, –∏–∑—É—á–∞—é—â–∞—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã.</p>
                    <p>–í–∫–ª—é—á–∞–µ—Ç –∞–ª–≥–µ–±—Ä—É, –≥–µ–æ–º–µ—Ç—Ä–∏—é, —Ç—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏—é, –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∏ —Ç–µ–æ—Ä–∏—é –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π.</p>
                {% elif subject.name == '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫' %}
                    <p class="mb-4">–†—É—Å—Å–∫–∏–π —è–∑—ã–∫ - –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –±–æ–≥–∞—Ç—ã—Ö —è–∑—ã–∫–æ–≤ –º–∏—Ä–∞ —Å –±–æ–≥–∞—Ç–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π –∏ –∫—É–ª—å—Ç—É—Ä–æ–π.</p>
                    <p>–ò–∑—É—á–∞–µ–º –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—é, –ø—É–Ω–∫—Ç—É–∞—Ü–∏—é, —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, —Å—Ç–∏–ª–∏—Å—Ç–∏–∫—É –∏ –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞.</p>
                {% elif subject.name == '–§–∏–∑–∏–∫–∞' %}
                    <p class="mb-4">–§–∏–∑–∏–∫–∞ - –Ω–∞—É–∫–∞ –æ –ø—Ä–∏—Ä–æ–¥–µ, –∏–∑—É—á–∞—é—â–∞—è –º–∞—Ç–µ—Ä–∏—é, —ç–Ω–µ—Ä–≥–∏—é –∏ –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ.</p>
                    <p>–û—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –º–µ—Ö–∞–Ω–∏–∫—É, —Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º–∏–∫—É, —ç–ª–µ–∫—Ç—Ä–æ–¥–∏–Ω–∞–º–∏–∫—É, –æ–ø—Ç–∏–∫—É –∏ –∫–≤–∞–Ω—Ç–æ–≤—É—é —Ñ–∏–∑–∏–∫—É.</p>
                {% elif subject.name == '–•–∏–º–∏—è' %}
                    <p class="mb-4">–•–∏–º–∏—è - –Ω–∞—É–∫–∞ –æ –≤–µ—â–µ—Å—Ç–≤–∞—Ö, –∏—Ö —Å–≤–æ–π—Å—Ç–≤–∞—Ö –∏ –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏—è—Ö.</p>
                    <p>–ò–∑—É—á–∞–µ–º –Ω–µ–æ—Ä–≥–∞–Ω–∏—á–µ—Å–∫—É—é –∏ –æ—Ä–≥–∞–Ω–∏—á–µ—Å–∫—É—é —Ö–∏–º–∏—é, —Ö–∏–º–∏—á–µ—Å–∫–∏–µ —Ä–µ–∞–∫—Ü–∏–∏ –∏ —Ä–∞—Å—á—ë—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏.</p>
                {% elif subject.name == '–ë–∏–æ–ª–æ–≥–∏—è' %}
                    <p class="mb-4">–ë–∏–æ–ª–æ–≥–∏—è - –Ω–∞—É–∫–∞ –æ –∂–∏–≤–æ–π –ø—Ä–∏—Ä–æ–¥–µ –∏ –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—è—Ö –µ—ë —Ä–∞–∑–≤–∏—Ç–∏—è.</p>
                    <p>–í–∫–ª—é—á–∞–µ—Ç –±–æ—Ç–∞–Ω–∏–∫—É, –∑–æ–æ–ª–æ–≥–∏—é, –∞–Ω–∞—Ç–æ–º–∏—é —á–µ–ª–æ–≤–µ–∫–∞, –≥–µ–Ω–µ—Ç–∏–∫—É –∏ —ç–∫–æ–ª–æ–≥–∏—é.</p>
                {% elif subject.name == '–ò—Å—Ç–æ—Ä–∏—è' %}
                    <p class="mb-4">–ò—Å—Ç–æ—Ä–∏—è - –Ω–∞—É–∫–∞ –æ –ø—Ä–æ—à–ª–æ–º —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–∞ –∏ –µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏–∏.</p>
                    <p>–ò–∑—É—á–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é –†–æ—Å—Å–∏–∏ –∏ –≤—Å–µ–æ–±—â—É—é –∏—Å—Ç–æ—Ä–∏—é —Å –¥—Ä–µ–≤–Ω–æ—Å—Ç–∏ –¥–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏.</p>
                {% elif subject.name == '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è' %}
                    <p class="mb-4">–ì–µ–æ–≥—Ä–∞—Ñ–∏—è - –Ω–∞—É–∫–∞ –æ –ó–µ–º–ª–µ, –µ—ë –ø—Ä–∏—Ä–æ–¥–µ –∏ –Ω–∞—Å–µ–ª–µ–Ω–∏–∏.</p>
                    <p>–û—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫—É—é, —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫—É—é –∏ –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫—É—é –≥–µ–æ–≥—Ä–∞—Ñ–∏—é.</p>
                {% elif subject.name == '–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞' %}
                    <p class="mb-4">–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞ - –∏—Å–∫—É—Å—Å—Ç–≤–æ —Å–ª–æ–≤–∞, –æ—Ç—Ä–∞–∂–∞—é—â–µ–µ –∂–∏–∑–Ω—å –∏ –∫—É–ª—å—Ç—É—Ä—É –æ–±—â–µ—Å—Ç–≤–∞.</p>
                    <p>–ò–∑—É—á–∞–µ–º –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è —Ä—É—Å—Å–∫–æ–π –∏ –∑–∞—Ä—É–±–µ–∂–Ω–æ–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã —Ä–∞–∑–Ω—ã—Ö —ç–ø–æ—Ö.</p>
                {% elif subject.name == '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞' %}
                    <p class="mb-4">–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ - –Ω–∞—É–∫–∞ –æ–± –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –µ—ë –æ–±—Ä–∞–±–æ—Ç–∫–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏.</p>
                    <p>–í–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞–ª–≥–æ—Ä–∏—Ç–º—ã, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ —Å–µ—Ç–∏.</p>
                {% elif subject.name == '–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ' %}
                    <p class="mb-4">–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ - –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –Ω–∞—É–∫–∞ –æ–± –æ–±—â–µ—Å—Ç–≤–µ –∏ —á–µ–ª–æ–≤–µ–∫–µ.</p>
                    <p>–ò–∑—É—á–∞–µ–º —Ñ–∏–ª–æ—Å–æ—Ñ–∏—é, —ç–∫–æ–Ω–æ–º–∏–∫—É, —Å–æ—Ü–∏–æ–ª–æ–≥–∏—é, –ø–æ–ª–∏—Ç–æ–ª–æ–≥–∏—é –∏ –ø—Ä–∞–≤–æ.</p>
                {% elif '—è–∑—ã–∫' in subject.name %}
                    <p class="mb-4">{{ subject.name }} - –≤–∞–∂–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–≥–æ –æ–±—â–µ–Ω–∏—è.</p>
                    <p>–†–∞–∑–≤–∏–≤–∞–µ–º –Ω–∞–≤—ã–∫–∏ —á—Ç–µ–Ω–∏—è, –ø–∏—Å—å–º–∞, –∞—É–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≥–æ–≤–æ—Ä–µ–Ω–∏—è.</p>
                {% else %}
                    <p class="mb-4">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —ç–∫–∑–∞–º–µ–Ω—É –ø–æ –ø—Ä–µ–¥–º–µ—Ç—É {{ subject.name }}.</p>
                    <p>–°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑—É—á–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –¥–ª—è —É—Å–ø–µ—à–Ω–æ–π —Å–¥–∞—á–∏ {{ subject.exam_type }}.</p>
                {% endif %}
            </div>
        </div>
    </div>
</section>

<!-- –ó–∞–¥–∞–Ω–∏—è -->
<section class="section-padding" style="background: #fffef2;">
    <div class="container">
        <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-bold mb-4 heading-animate" style="color: #252525;">
                –ó–∞–¥–∞–Ω–∏—è –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏
            </h2>
            <p class="text-lg text-reveal" style="color: #666;">
                {{ total_tasks }} –∑–∞–¥–∞–Ω–∏–π —Ä–∞–∑–ª–∏—á–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
            </p>
        </div>
        
        {% if page_obj %}
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
            {% for task in page_obj %}
            <div class="task-item bg-white rounded-2xl p-6 shadow-lg card-hover text-reveal" 
                 data-difficulty="{{ task.difficulty }}">
                <div class="mb-4">
                    <span class="inline-block px-3 py-1 rounded-full text-sm font-medium
                        {% if task.difficulty == 1 %}bg-green-100 text-green-800
                        {% elif task.difficulty == 2 %}bg-yellow-100 text-yellow-800
                        {% else %}bg-red-100 text-red-800{% endif %}">
                        –°–ª–æ–∂–Ω–æ—Å—Ç—å: {{ task.difficulty }}
                    </span>
                </div>
                
                <h3 class="text-xl font-bold mb-3 task-title" style="color: #252525;">
                    {{ task.title }}
                </h3>
                
                <p class="text-gray-600 mb-4">
                    {{ task.description|truncatewords:20 }}
                </p>
                
                <div class="flex justify-between items-center">
                    <span class="text-sm text-gray-500">
                        {{ task.created_at|date:"d.m.Y" }}
                    </span>
                    <a href="{% url 'task_detail' task.id %}" 
                       class="btn-secondary btn-animate">
                        –†–µ—à–∏—Ç—å
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
        {% if page_obj.has_other_pages %}
        <div class="flex justify-center items-center space-x-2">
            {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}" 
               class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors">
                ‚Üê –ù–∞–∑–∞–¥
            </a>
            {% endif %}
            
            <span class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg">
                –°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ page_obj.number }} –∏–∑ {{ page_obj.paginator.num_pages }}
            </span>
            
            {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}" 
               class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors">
                –í–ø–µ—Ä–µ–¥ ‚Üí
            </a>
            {% endif %}
        </div>
        {% endif %}
        
        {% else %}
        <div class="text-center">
            <div class="text-6xl mb-4">üìù</div>
            <h3 class="text-2xl font-bold mb-4" style="color: #252525;">
                –ó–∞–¥–∞–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è...
            </h3>
            <p class="text-gray-600">
                –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ, –ø–æ–∫–∞ –º—ã –∑–∞–≥—Ä—É–∑–∏–º –≤—Å–µ –∑–∞–¥–∞–Ω–∏—è –ø–æ —ç—Ç–æ–º—É –ø—Ä–µ–¥–º–µ—Ç—É.
            </p>
        </div>
        {% endif %}
    </div>
</section>

<!-- CTA —Å–µ–∫—Ü–∏—è -->
<section class="section-padding" style="background: #f8f8f8;">
    <div class="container">
        <div class="text-center">
            <h2 class="text-3xl md:text-4xl font-bold mb-6 heading-animate" style="color: #252525;">
                –ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É?
            </h2>
            <p class="text-xl mb-8 text-reveal" style="color: #666;">
                –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –≤ Telegram-–±–æ—Ç –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="https://t.me/ExamFlowBot" target="_blank" 
                   class="btn-primary btn-animate text-lg px-8 py-4">
                    üì± –û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞
                </a>
                <a href="{% url 'subject_list' %}" 
                   class="btn-secondary btn-animate text-lg px-8 py-4">
                    üìö –í—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}