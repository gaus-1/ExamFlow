services:
  - type: web
    name: examflow
    env: python
    buildCommand: pip install -r requirements.txt
    startCommand: |
      echo "üîÑ –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏..."
      python manage.py migrate --noinput
      echo "üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –±–æ—Ç–∞..."
      python manage.py reload_bot_data --force
      echo "üîÑ –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∏—Å—Ç–µ–º—É keep-alive..."
      python manage.py start_keepalive --daemon --db-interval 300 --site-interval 600
      echo "üöÄ –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä..."
      gunicorn examflow_project.wsgi:application
    envVars:
      - key: PYTHON_VERSION
        value: 3.11.0
      - key: DJANGO_SETTINGS_MODULE
        value: examflow_project.settings
